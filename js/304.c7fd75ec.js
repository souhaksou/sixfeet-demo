"use strict";(self["webpackChunkvue_e_commerce"]=self["webpackChunkvue_e_commerce"]||[]).push([[304],{2304:function(t,s,i){i.r(s),i.d(s,{default:function(){return lt}});var e=i(3396),o=i(7139),l=i(9242);const r={class:"container my-5"},c={class:"row gx-0 g-lg-5"},a={class:"col-lg-6"},d=["src","alt"],n={key:0,class:"row g-0"},u=["src"],h={class:"col-lg-6"},g={class:"card h-100"},p={class:"card-body d-flex flex-column justify-content-between"},v={class:"card-title mb-3 pb-3 border-bottom fw-bold"},f={class:"card-text"},m={class:"h5 mb-3 pb-3 border-bottom lh-lg"},b={class:"card-text"},_={class:"h6 mb-3 pb-3 border-bottom lh-base"},x=(0,e._)("br",null,null,-1),k={class:"card-text border-bottom mb-3 pb-3 row"},w={class:"col-sm-6"},y={class:"h5 text-secondary lh-base text-center text-lg-start"},$=(0,e.Uk)(" 原價 "),I={class:"text-decoration-line-through"},P={class:"col-sm-6"},S={class:"h4 text-dark text-center text-lg-end"},U={class:"row row-cols-1 row-cols-md-2 gx-1"},C={class:"col mb-3 mb-md-0"},D=(0,e._)("i",{class:"bi bi-cart-plus-fill"},null,-1),F=(0,e.Uk)(" 加入購物車 "),L=[D,F],z={class:"col"},M={key:0},N=(0,e._)("i",{class:"bi bi-bag-heart-fill"},null,-1),O=(0,e.Uk)(" 加入最愛"),q=[N,O],E={key:1},H=(0,e._)("i",{class:"bi bi-heartbreak-fill"},null,-1),J=(0,e.Uk)(" 我不愛它"),Y=[H,J],j=(0,e.uE)('<div class="my-5 col-lg-8"><h3 class="ms-3 mb-3">購物須知</h3><ol class="list-group list-group-numbered list-group-flush"><li class="list-group-item"> 本公司不提供產品以外的任何形式連帶保證責任，也不具備任何形式的賠償負責。 </li><li class="list-group-item">商品尺寸規格可能些許誤差率，以實際商品出貨為主。</li><li class="list-group-item">本公司不提供代為處理廢棄家具服務，請自行處理。</li><li class="list-group-item"> 收到商品請立即確認否有任何問題，並與服務人員接洽處理換貨事宜，避免後續爭議。 </li><li class="list-group-item">客戶使用不當損壞暇疵，非商品本身問題，恕不接受退/換貨。</li><li class="list-group-item">所有客製化商品，非產品自身瑕疵不接受退/換貨。</li></ol></div>',1),K={class:"bg-light py-5"},T={class:"container"},W=(0,e._)("h3",{class:"mb-5 text-center text-lg-start"},"您可能會感興趣的商品",-1),Z={class:"row gy-3"},A={class:"card border-secondary h-100"},B=["src","alt"],G={class:"card-title mt-3 mb-0 text-center"},Q={class:"card-body d-flex justify-content-end flex-column"},R=["onClick"],V=(0,e._)("i",{class:"bi bi-info-square-fill"},null,-1),X=(0,e.Uk)("  查看更多資訊 "),tt=[V,X];function st(t,s,i,D,F,N){const O=(0,e.up)("loading-overlay");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(O,{active:F.isLoading},null,8,["active"]),(0,e._)("section",r,[(0,e._)("div",c,[(0,e._)("div",a,[(0,e._)("img",{class:"img-fluid",src:F.product.imageUrl,alt:F.product.title},null,8,d),F.product.images?((0,e.wg)(),(0,e.iD)("div",n,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(F.product.images,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"col-lg-4",key:t},[(0,e._)("img",{class:"img-fluid w-100",src:t,alt:"其他圖片"},null,8,u)])))),128))])):(0,e.kq)("",!0)]),(0,e._)("div",h,[(0,e._)("div",g,[(0,e._)("div",p,[(0,e._)("h3",v,(0,o.zw)(F.product.title),1),(0,e._)("div",f,[(0,e._)("p",m,"     "+(0,o.zw)(F.product.content),1)]),(0,e._)("div",b,[(0,e._)("p",_,[(0,e.Uk)(" 分類 : "+(0,o.zw)(F.product.category)+" ",1),x,(0,e.Uk)((0,o.zw)(F.product.description),1)])]),(0,e._)("div",k,[(0,e._)("div",w,[(0,e._)("p",y,[$,(0,e._)("span",I,"NT$"+(0,o.zw)(t.$filters.currency(F.product.origin_price)),1)])]),(0,e._)("div",P,[(0,e._)("p",S," 特價 NT$"+(0,o.zw)(t.$filters.currency(F.product.price)),1)])]),(0,e._)("div",U,[(0,e._)("div",C,[(0,e._)("a",{href:"#",class:"d-block btn btn-outline-dark px-1",onClick:s[0]||(s[0]=(0,l.iM)((t=>N.addCart(F.product.id)),["prevent"]))},L)]),(0,e._)("div",z,[(0,e._)("a",{href:"#",class:"d-block btn btn-outline-dark px-1",onClick:s[1]||(s[1]=(0,l.iM)((t=>N.toggleFavorites(F.product)),["prevent"]))},[N.isFavorite(F.product.id)?((0,e.wg)(),(0,e.iD)("span",E,Y)):((0,e.wg)(),(0,e.iD)("span",M,q))])])])])])])]),j]),(0,e._)("section",K,[(0,e._)("div",T,[W,(0,e._)("div",Z,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(F.interests,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"col-lg-4",key:t.id},[(0,e._)("div",A,[(0,e._)("img",{class:"card-img-top img-fluid other-img",src:t.imageUrl,alt:t.title},null,8,B),(0,e._)("h3",G,(0,o.zw)(t.title),1),(0,e._)("div",Q,[(0,e._)("a",{href:"#",class:"btn btn-secondary d-block stretched-link",onClick:(0,l.iM)((s=>N.toProduct(t.id)),["prevent"])},tt,8,R)])])])))),128))])])])],64)}i(6699);var it={data(){return{product:{},products:[],id:"",isLoading:!1,favorites:[],favoriteId:[],interests:[]}},watch:{$route(t,s){console.log("to:",t),console.log("from:",s),"productInfo"===this.$route.name&&(this.id=this.$route.params.productId,this.getProduct())}},methods:{thislog(){console.log(this.$route.name)},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/sixfeet-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log("product",t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addCart(t){const s="https://vue3-course-api.hexschool.io/api/sixfeet-api/cart";this.isLoading=!0;const i={product_id:t,qty:1};this.$http.post(s,{data:i}).then((t=>{console.log(t.data),this.$httpMessageState(t,"加到購物車"),this.isLoading=!1}))},getFavorites(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[],console.log("favorites",this.favorites),this.favoriteId=[],this.favorites.forEach((t=>{this.favoriteId.push(t.id)}))},toggleFavorites(t){const s=t.id,i=this.favorites.some((t=>t.id===s));if(i){const t=this.favorites.find((t=>t.id===s));this.favorites.splice(this.favorites.indexOf(t),1),localStorage.setItem("favorites",JSON.stringify(this.favorites));const i={data:{success:!0}};this.$httpMessageState(i,"從我的最愛移除")}else{this.favorites.push(t),localStorage.setItem("favorites",JSON.stringify(this.favorites));const s={data:{success:!0}};this.$httpMessageState(s,"加入我的最愛")}this.getFavorites()},isFavorite(t){return this.favoriteId.includes(t)},getProducts(){const t="https://vue3-course-api.hexschool.io/api/sixfeet-api/products/all";return this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,console.log("products:",t),this.isLoading=!1}))},getInterests(){this.interests=[];const t=this.products.findIndex((t=>t.id===this.id));this.products.splice(t,1);const s=[];while(s.length<3){const t=parseInt(Math.random()*(this.products.length-1),10);-1===s.indexOf(t)&&s.push(t)}s.forEach((t=>{this.interests.push(this.products[t])})),console.log(s,this.interests)},toProduct(t){this.$router.push(`/product/${t}`),this.id=t,this.getProducts(),this.getFavorites(),this.getProduct(),this.getInterests()}},created(){this.id=this.$route.params.productId,this.getProducts().then((()=>{this.getFavorites(),this.getProduct(),this.getInterests()}))}},et=i(89);const ot=(0,et.Z)(it,[["render",st]]);var lt=ot}}]);
//# sourceMappingURL=304.c7fd75ec.js.map