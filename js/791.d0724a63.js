"use strict";(self["webpackChunkvue_e_commerce"]=self["webpackChunkvue_e_commerce"]||[]).push([[791],{7686:function(t,s,i){i.r(s),i.d(s,{default:function(){return A}});var e=i(3396),o=i(7139),a=i(9242),c=i.p+"img/product.9d160696.jpg";const r=(0,e.uE)('<section class="row g-0"><div class="col-md-6"><img class="img-fluid h-100" src="'+c+'" alt="flower"></div><div class="col-md-6 d-flex justify-content-center align-items-center bg-secondary"><p class="d-none d-md-block py-5 text-light lh-lg fs-1"> 鳥兒願為一朵雲<br> 雲兒願為一隻鳥 </p></div></section>',1),l={class:"container my-5"},d={class:"row g-5"},n={class:"col-lg-6"},u=["src","alt"],p={key:0,class:"row g-0"},h=["src","alt"],g={class:"col-lg-6"},v={class:"card"},f={class:"card-body"},b={class:"card-title mb-3 pb-3 border-bottom fw-bold"},m={class:"card-text"},_={class:"h5 mb-3 pb-3 border-bottom lh-lg"},k={class:"h6 mb-3 pb-3 border-bottom lh-base"},w=(0,e._)("br",null,null,-1),y={class:"card-text border-bottom mb-3 pb-3 row text-end"},x={class:"col-sm-6"},$={class:"h5 text-secondary lh-base"},S=(0,e.Uk)(" 原價 "),I={class:"text-decoration-line-through"},F={class:"col-sm-6"},U={class:"h4 text-dark"},z={class:"row row-cols-1 row-cols-md-2 gx-1"},C={class:"col mb-3 mb-md-0"},D=(0,e._)("i",{class:"bi bi-cart-plus-fill"},null,-1),L=(0,e.Uk)(" 加入購物車 "),M=[D,L],N={class:"col"},O={key:0},J=(0,e._)("i",{class:"bi bi-bag-heart-fill"},null,-1),j=(0,e.Uk)(" 加入最愛"),q=[J,j],E={key:1},H=(0,e._)("i",{class:"bi bi-heartbreak-fill"},null,-1),P=(0,e.Uk)(" 我不愛它"),T=[H,P];function Y(t,s,i,c,D,L){const J=(0,e.up)("loading-overlay");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(J,{active:D.isLoading},null,8,["active"]),r,(0,e._)("section",l,[(0,e._)("div",d,[(0,e._)("div",n,[(0,e._)("img",{class:"img-fluid",src:D.product.imageUrl,alt:D.product.title},null,8,u),D.product.images?((0,e.wg)(),(0,e.iD)("div",p,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(D.product.images,(s=>((0,e.wg)(),(0,e.iD)("div",{class:"col-lg-4",key:s},[(0,e._)("img",{class:"img-fluid",src:s,alt:t.其他圖片},null,8,h)])))),128))])):(0,e.kq)("",!0)]),(0,e._)("div",g,[(0,e._)("div",v,[(0,e._)("div",f,[(0,e._)("h3",b,(0,o.zw)(D.product.title),1),(0,e._)("div",m,[(0,e._)("p",_,"     "+(0,o.zw)(D.product.content),1),(0,e._)("p",k,[(0,e.Uk)(" 分類 : "+(0,o.zw)(D.product.category)+" ",1),w,(0,e.Uk)((0,o.zw)(D.product.description),1)])]),(0,e._)("div",y,[(0,e._)("div",x,[(0,e._)("p",$,[S,(0,e._)("span",I,"NT$"+(0,o.zw)(t.$filters.currency(D.product.origin_price)),1)])]),(0,e._)("div",F,[(0,e._)("p",U,"特價 NT$"+(0,o.zw)(t.$filters.currency(D.product.price)),1)])]),(0,e._)("div",z,[(0,e._)("div",C,[(0,e._)("a",{href:"#",class:"d-block btn btn-outline-dark px-1",onClick:s[0]||(s[0]=(0,a.iM)((t=>L.addCart(D.product.id)),["prevent"]))},M)]),(0,e._)("div",N,[(0,e._)("a",{href:"#",class:"d-block btn btn-outline-dark px-1",onClick:s[1]||(s[1]=(0,a.iM)((t=>L.toggleFavorites(D.product)),["prevent"]))},[L.isFavorite(D.product.id)?((0,e.wg)(),(0,e.iD)("span",E,T)):((0,e.wg)(),(0,e.iD)("span",O,q))])])])])])])])])],64)}i(6699);var K={data(){return{product:{},id:"",isLoading:!1,favorites:[],favoriteId:[]}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/sixfeet-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log("product",t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addCart(t){const s="https://vue3-course-api.hexschool.io/api/sixfeet-api/cart";this.isLoading=!0;const i={product_id:t,qty:1};this.$http.post(s,{data:i}).then((t=>{console.log(t.data),this.$httpMessageState(t,"加到購物車"),this.isLoading=!1}))},getFavorites(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[],console.log("favorites",this.favorites),this.favoriteId=[],this.favorites.forEach((t=>{this.favoriteId.push(t.id)}))},toggleFavorites(t){const s=t.id,i=this.favorites.some((t=>t.id===s));if(i){const t=this.favorites.find((t=>t.id===s));this.favorites.splice(this.favorites.indexOf(t),1),localStorage.setItem("favorites",JSON.stringify(this.favorites));const i={data:{success:!0}};this.$httpMessageState(i,"從我的最愛移除")}else{this.favorites.push(t),localStorage.setItem("favorites",JSON.stringify(this.favorites));const s={data:{success:!0}};this.$httpMessageState(s,"加入我的最愛")}this.getFavorites()},isFavorite(t){return this.favoriteId.includes(t)}},created(){this.id=this.$route.params.productId,this.getProduct(),this.getFavorites()}},W=i(89);const Z=(0,W.Z)(K,[["render",Y]]);var A=Z}}]);
//# sourceMappingURL=791.d0724a63.js.map