{"version":3,"file":"js/47.811efbde.js","mappings":"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","sources":["webpack://vue-e-commerce/./src/views/UserCart.vue","webpack://vue-e-commerce/./src/components/OrderForm.vue","webpack://vue-e-commerce/./src/components/OrderForm.vue?350b","webpack://vue-e-commerce/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\n  <loading-overlay :active=\"isLoading\"></loading-overlay>\n  <!-- header -->\n  <section class=\"row g-0\">\n    <div class=\"col-md-6 d-flex justify-content-center align-items-center bg-light\">\n      <p class=\"d-none d-md-block py-5 lh-lg fs-1\">趕快結帳吧！</p>\n    </div>\n    <div class=\"col-md-6\">\n      <img class=\"img-fluid w-100 h-100\" src=\"../assets/images/cart.jpg\" alt=\"moon\" />\n    </div>\n  </section>\n  <!-- cart -->\n  <section class=\"container my-5\">\n    <div class=\"text-center\" v-if=\"cart.total === 0\">\n      <h3 class=\"mb-3\">購物車目前沒有商品</h3>\n      <div>\n        <a href=\"#\" class=\"btn btn-success btn-lg\" @click.prevent=\"goToProducts\">點我購物去</a>\n      </div>\n    </div>\n    <div v-else>\n      <table class=\"table table-hover align-middle\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>品名</th>\n            <th style=\"width: 110px\">數量</th>\n            <th class=\"text-end\">\n              <span v-if=\"cart.final_total === cart.total\">單價</span>\n              <span class=\"text-success\" v-else>折扣價</span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-if=\"cart.carts\">\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  :disabled=\"status.loadingItem === item.id\"\n                  @click=\"removeCartItem(item.id)\"\n                >\n                  <i class=\"bi bi-x-circle-fill\"></i\n                  ><span class=\"d-none d-sm-inline\">&ensp;刪除</span>\n                </button>\n              </td>\n              <td>\n                {{ item.product.title }}\n                <!-- <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div> -->\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    min=\"1\"\n                    v-model.number=\"item.qty\"\n                    :disabled=\"item.id === status.loadingItem\"\n                    @change=\"updateCart(item)\"\n                  />\n                  <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                </div>\n              </td>\n              <td class=\"text-end\" :class=\"{ 'text-success': cart.final_total !== cart.total }\">\n                <span class=\"d-none d-sm-inline\"> NT$</span\n                >{{ $filters.currency(item.final_total) }}\n              </td>\n            </tr>\n          </template>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"3\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">NT${{ $filters.currency(cart.total) }}</td>\n          </tr>\n          <tr v-if=\"cart.final_total !== cart.total\">\n            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n            <td class=\"text-end text-success\">NT${{ $filters.currency(cart.final_total) }}</td>\n          </tr>\n        </tfoot>\n      </table>\n      <!-- 按鈕 -->\n      <div class=\"row g-3\" v-if=\"cart.final_total !== 0\">\n        <div class=\"col-6 col-md-3 d-grid\">\n          <button type=\"button\" class=\"btn btn-outline-danger align-self-center\" @click=\"removeAll\">\n            <i class=\"bi bi-x-circle-fill\"></i>&ensp;清空購物車\n          </button>\n        </div>\n        <div class=\"col-6 col-md-3 d-grid\">\n          <button type=\"button\" class=\"btn btn-dark\" @click=\"openModal()\">去結帳</button>\n        </div>\n        <div class=\"col input-group input-group-sm\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            v-model=\"coupon_code\"\n            placeholder=\"請輸入優惠碼\"\n          />\n          <div class=\"input-group-append\">\n            <button\n              class=\"btn btn-outline-secondary\"\n              type=\"button\"\n              @click=\"addCouponCode(coupon_code)\"\n              :class=\"{ disabled: cart.final_total !== cart.total }\"\n            >\n              套用優惠碼\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <!-- formModal -->\n  <orderform ref=\"formModal\" @create-order=\"createOrder\"></orderform>\n</template>\n\n<script>\nimport orderform from '../components/OrderForm.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n      cart: {},\n      coupon_code: '',\n    };\n  },\n  components: {\n    orderform,\n  },\n  methods: {\n    getCart() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(url).then((res) => {\n        console.log('getCart', res);\n        this.cart = res.data.data;\n        this.isLoading = false;\n      });\n    },\n    updateCart(item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id;\n      const cart = { product_id: item.product_id, qty: item.qty };\n      this.$http.put(url, { data: cart }).then((res) => {\n        console.log('updateCart', res);\n        this.status.loadingItem = '';\n        this.$httpMessageState(res, '修改數量');\n        this.getCart();\n      });\n    },\n    removeCartItem(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.status.loadingItem = id;\n      this.$http.delete(url).then((res) => {\n        console.log('remove', res);\n        this.$httpMessageState(res, '移除購物車品項');\n        this.status.loadingItem = '';\n        this.getCart();\n      });\n    },\n    addCouponCode(couponCode) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      this.isLoading = true;\n      const coupon = { code: couponCode };\n      this.$http.post(url, { data: coupon }).then((res) => {\n        console.log('addCoupon', res);\n        this.$httpMessageState(res, '加入優惠券');\n        this.getCart();\n      });\n    },\n    removeAll() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`;\n      this.isLoading = true;\n      this.$http.delete(url).then((res) => {\n        console.log('removeAll', res);\n        this.$httpMessageState(res, '清空購物車');\n        this.getCart();\n      });\n    },\n    openModal() {\n      this.$refs.formModal.showModal();\n    },\n    createOrder(value) {\n      console.log('createOrder', value);\n      this.$refs.formModal.hideModal();\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = value;\n      this.$http.post(url, { data: order }).then((res) => {\n        console.log('createOrder', res);\n        this.$httpMessageState(res, '送出訂單');\n        if (res.data.success) {\n          this.$router.push(`/checkout/${res.data.orderId}`);\n        }\n      });\n    },\n    goToProducts() {\n      this.$router.push('/products');\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n","<template>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <!-- 新增產品和關閉 -->\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>填寫資料</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <!-- 表單內容 -->\n          <div class=\"row justify-content-center\">\n            <Form class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"$emit('create-order', form)\">\n              <div class=\"mb-3\">\n                <label for=\"email\" class=\"form-label\">Email</label>\n                <Field\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['email'] }\"\n                  placeholder=\"請輸入 Email\"\n                  rules=\"email|required\"\n                  v-model=\"form.user.email\"\n                ></Field>\n                <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"name\" class=\"form-label\">收件人姓名</label>\n                <Field\n                  id=\"name\"\n                  name=\"姓名\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['姓名'] }\"\n                  placeholder=\"請輸入姓名\"\n                  rules=\"required\"\n                  v-model=\"form.user.name\"\n                ></Field>\n                <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"tel\" class=\"form-label\">收件人電話</label>\n                <Field\n                  id=\"tel\"\n                  name=\"電話\"\n                  type=\"tel\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['電話'] }\"\n                  placeholder=\"請輸入電話\"\n                  rules=\"required\"\n                  v-model=\"form.user.tel\"\n                ></Field>\n                <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"address\" class=\"form-label\">收件人地址</label>\n                <Field\n                  id=\"address\"\n                  name=\"地址\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['地址'] }\"\n                  placeholder=\"請輸入地址\"\n                  rules=\"required\"\n                  v-model=\"form.user.address\"\n                ></Field>\n                <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"message\" class=\"form-label\">留言</label>\n                <textarea\n                  name=\"\"\n                  id=\"message\"\n                  class=\"form-control\"\n                  cols=\"30\"\n                  rows=\"3\"\n                  v-model=\"form.message\"\n                ></textarea>\n              </div>\n\n              <div class=\"text-end\">\n                <button type=\"button\" class=\"btn btn-secondary me-3\" data-bs-dismiss=\"modal\">\n                  取消</button\n                ><button class=\"btn btn-danger\">送出訂單</button>\n              </div>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  data() {\n    return {\n      modal: {},\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {},\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./OrderForm.vue?vue&type=template&id=e2a4df2e\"\nimport script from \"./OrderForm.vue?vue&type=script&lang=js\"\nexport * from \"./OrderForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\WEB\\\\hexschool\\\\vue-e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserCart.vue?vue&type=template&id=3a7afe9d\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\WEB\\\\hexschool\\\\vue-e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_14","_hoisted_15","colspan","_hoisted_28","_createVNode","_component_loading_overlay","active","$data","_hoisted_1","total","_createElementBlock","_hoisted_4","href","onClick","$options","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","final_total","_hoisted_11","carts","_Fragment","key","_renderList","item","id","type","disabled","loadingItem","_toDisplayString","product","title","min","qty","$event","onChange","unit","_hoisted_20","_ctx","currency","_hoisted_21","_hoisted_23","_hoisted_24","placeholder","_component_orderform","ref","onCreateOrder","tabindex","role","for","_component_Form","onSubmit","errors","_component_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_10","_hoisted_12","tel","address","_hoisted_16","cols","rows","message","_hoisted_17","data","modal","form","methods","mixins","modalMixin","__exports__","isLoading","status","cart","coupon_code","components","orderform","getCart","url","this","$http","get","then","res","console","log","updateCart","product_id","put","$httpMessageState","removeCartItem","delete","addCouponCode","couponCode","coupon","code","post","removeAll","openModal","$refs","formModal","showModal","createOrder","value","hideModal","order","success","$router","push","orderId","goToProducts","created","render"],"sourceRoot":""}