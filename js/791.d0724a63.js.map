{"version":3,"file":"js/791.d0724a63.js","mappings":"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","sources":["webpack://vue-e-commerce/./src/views/UserProductInfo.vue","webpack://vue-e-commerce/./src/views/UserProductInfo.vue?b712"],"sourcesContent":["<template>\n  <loading-overlay :active=\"isLoading\"></loading-overlay>\n  <!-- header -->\n  <section class=\"row g-0\">\n    <div class=\"col-md-6\">\n      <img class=\"img-fluid h-100\" src=\"../assets/images/product.jpg\" alt=\"flower\" />\n    </div>\n    <div class=\"col-md-6 d-flex justify-content-center align-items-center bg-secondary\">\n      <p class=\"d-none d-md-block py-5 text-light lh-lg fs-1\">\n        鳥兒願為一朵雲<br />\n        雲兒願為一隻鳥\n      </p>\n    </div>\n  </section>\n  <!-- 商品 -->\n  <section class=\"container my-5\">\n    <div class=\"row g-5\">\n      <div class=\"col-lg-6\">\n        <img class=\"img-fluid\" :src=\"product.imageUrl\" :alt=\"product.title\" />\n        <div class=\"row g-0\" v-if=\"product.images\">\n          <div class=\"col-lg-4\" v-for=\"item in product.images\" :key=\"item\">\n            <img class=\"img-fluid\" :src=\"item\" :alt=\"其他圖片\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"col-lg-6\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h3 class=\"card-title mb-3 pb-3 border-bottom fw-bold\">{{ product.title }}</h3>\n            <div class=\"card-text\">\n              <p class=\"h5 mb-3 pb-3 border-bottom lh-lg\">\n                &ensp;&ensp;&ensp;&ensp;{{ product.content }}\n              </p>\n              <p class=\"h6 mb-3 pb-3 border-bottom lh-base\">\n                分類 : {{ product.category }} <br />{{ product.description }}\n              </p>\n            </div>\n            <div class=\"card-text border-bottom mb-3 pb-3 row text-end\">\n              <div class=\"col-sm-6\">\n                <p class=\"h5 text-secondary lh-base\">\n                  原價\n                  <span class=\"text-decoration-line-through\"\n                    >NT${{ $filters.currency(product.origin_price) }}</span\n                  >\n                </p>\n              </div>\n              <div class=\"col-sm-6\">\n                <p class=\"h4 text-dark\">特價 NT${{ $filters.currency(product.price) }}</p>\n              </div>\n            </div>\n            <div class=\"row row-cols-1 row-cols-md-2 gx-1\">\n              <div class=\"col mb-3 mb-md-0\">\n                <a\n                  href=\"#\"\n                  class=\"d-block btn btn-outline-dark px-1\"\n                  @click.prevent=\"addCart(product.id)\"\n                >\n                  <i class=\"bi bi-cart-plus-fill\"></i> 加入購物車\n                </a>\n              </div>\n              <div class=\"col\">\n                <a\n                  href=\"#\"\n                  class=\"d-block btn btn-outline-dark px-1\"\n                  @click.prevent=\"toggleFavorites(product)\"\n                >\n                  <span v-if=\"!isFavorite(product.id)\"\n                    ><i class=\"bi bi-bag-heart-fill\"></i>&ensp;加入最愛</span\n                  ><span v-else><i class=\"bi bi-heartbreak-fill\"></i>&ensp;我不愛它</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      product: {},\n      id: '',\n      isLoading: false,\n      favorites: [],\n      favoriteId: [],\n    };\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        console.log('product', res.data);\n        this.isLoading = false;\n        if (res.data.success) {\n          this.product = res.data.product;\n        }\n      });\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      const cart = { product_id: id, qty: 1 };\n      this.$http.post(url, { data: cart }).then((res) => {\n        console.log(res.data);\n        this.$httpMessageState(res, '加到購物車');\n        this.isLoading = false;\n      });\n    },\n    // 取得我的最愛\n    getFavorites() {\n      this.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      console.log('favorites', this.favorites);\n      this.favoriteId = [];\n      this.favorites.forEach((item) => {\n        this.favoriteId.push(item.id);\n      });\n    },\n    // 切換我的最愛\n    toggleFavorites(value) {\n      const checkId = value.id;\n      const checkFavorite = this.favorites.some((item) => item.id === checkId);\n      if (!checkFavorite) {\n        // 不是最愛\n        this.favorites.push(value);\n        localStorage.setItem('favorites', JSON.stringify(this.favorites));\n        const res = { data: { success: true } };\n        this.$httpMessageState(res, '加入我的最愛');\n      } else {\n        // 是最愛\n        const idNum = this.favorites.find((item) => item.id === checkId);\n        this.favorites.splice(this.favorites.indexOf(idNum), 1);\n        localStorage.setItem('favorites', JSON.stringify(this.favorites));\n        const res = { data: { success: true } };\n        this.$httpMessageState(res, '從我的最愛移除');\n      }\n      this.getFavorites();\n    },\n    // 檢查是否最愛\n    isFavorite(id) {\n      return this.favoriteId.includes(id);\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.getFavorites();\n  },\n};\n</script>\n","import { render } from \"./UserProductInfo.vue?vue&type=template&id=913fc70c\"\nimport script from \"./UserProductInfo.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\WEB\\\\hexschool\\\\vue-e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_25","_hoisted_30","_hoisted_34","_createVNode","_component_loading_overlay","active","$data","_hoisted_1","src","imageUrl","alt","title","images","_createElementBlock","_Fragment","_renderList","item","key","_ctx","_toDisplayString","content","category","_hoisted_15","description","currency","origin_price","price","href","onClick","$options","id","_hoisted_33","_hoisted_36","_hoisted_29","_hoisted_32","data","product","isLoading","favorites","favoriteId","methods","getProduct","api","this","$http","get","then","res","console","log","success","addCart","url","cart","product_id","qty","post","$httpMessageState","getFavorites","JSON","parse","localStorage","getItem","forEach","push","toggleFavorites","value","checkId","checkFavorite","some","idNum","find","splice","indexOf","setItem","stringify","isFavorite","includes","created","$route","params","productId","__exports__","render"],"sourceRoot":""}