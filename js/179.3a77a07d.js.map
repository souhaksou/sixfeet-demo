{"version":3,"file":"js/179.3a77a07d.js","mappings":"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","sources":["webpack://vue-e-commerce/./src/views/UserFavorites.vue","webpack://vue-e-commerce/./src/views/UserFavorites.vue?156f"],"sourcesContent":["<template>\n  <loading-overlay :active=\"isLoading\"></loading-overlay>\n  <!-- header -->\n  <section class=\"row g-0\">\n    <div class=\"col-md-6\">\n      <img class=\"img-fluid w-100 h-100\" src=\"../assets/images/love.jpg\" alt=\"moon\" />\n    </div>\n    <div class=\"col-md-6 d-flex justify-content-center align-items-center bg-light\">\n      <p class=\"d-none d-md-block py-5 lh-lg fs-1\">以下是您關注的商品</p>\n    </div>\n  </section>\n  <!-- 我的最愛 -->\n  <div class=\"container\">\n    <div v-if=\"favorites.length === 0\" class=\"m-5 text-center\">\n      <h2 class=\"mb-4\">目前我的最愛沒有東西</h2>\n      <div>\n        <a href=\"#\" class=\"btn btn-success btn-lg\" @click.prevent=\"goToProducts\">點我購物去</a>\n      </div>\n    </div>\n    <div v-else class=\"my-3 row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3\">\n      <div class=\"col\" v-for=\"item in favorites\" :key=\"item.id\">\n        <div class=\"card h-100\">\n          <img :src=\"item.imageUrl\" class=\"card-img-top img-fluid\" :alt=\"item.title\" />\n          <div class=\"card-body text-center d-flex justify-content-end flex-column\">\n            <h3 class=\"card-title mb-3\">{{ item.title }}</h3>\n            <div class=\"card-text border-bottom mb-3 pb-3\">\n              <p class=\"h6 text-secondary lh-base\">\n                原價\n                <span class=\"text-decoration-line-through\"\n                  >NT${{ $filters.currency(item.origin_price) }}</span\n                >\n              </p>\n              <p class=\"h5 text-dark\">特價 NT${{ $filters.currency(item.price) }}</p>\n              <a href=\"#\" class=\"btn btn-dark d-block\" @click.prevent=\"getProduct(item.id)\">\n                <i class=\"bi bi-info-square-fill\"></i>&ensp;&ensp;查看更多資訊\n              </a>\n            </div>\n            <div class=\"row row-cols-1 row-cols-md-2 gx-1\">\n              <div class=\"col mb-3 mb-lg-0\">\n                <a\n                  href=\"#\"\n                  class=\"d-block btn btn-outline-dark px-1\"\n                  @click.prevent=\"addCart(item.id)\"\n                >\n                  <i class=\"bi bi-cart-plus-fill\"></i>&ensp;加入購物車\n                </a>\n              </div>\n              <div class=\"col\">\n                <a\n                  href=\"#\"\n                  class=\"d-block btn btn-outline-dark px-1\"\n                  @click.prevent=\"deleteFavorites(item)\"\n                >\n                  <span><i class=\"bi bi-heartbreak-fill\"></i>&ensp;我不愛它</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      favorites: [],\n    };\n  },\n  methods: {\n    // 跳轉頁面\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    // 加入購物車\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      const cart = { product_id: id, qty: 1 };\n      this.$http.post(url, { data: cart }).then((res) => {\n        console.log(res.data);\n        this.$httpMessageState(res, '加到購物車');\n        this.isLoading = false;\n      });\n    },\n    // 取得我的最愛\n    getFavorites() {\n      this.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    },\n    // 從我的最愛中刪除\n    deleteFavorites(value) {\n      const checkId = value.id;\n      const idNum = this.favorites.find((item) => item.id === checkId);\n      this.favorites.splice(this.favorites.indexOf(idNum), 1);\n      localStorage.setItem('favorites', JSON.stringify(this.favorites));\n      const res = { data: { success: true } };\n      this.$httpMessageState(res, '從我的最愛移除');\n      this.getFavorites();\n    },\n    goToProducts() {\n      this.$router.push('/products');\n    },\n  },\n  created() {\n    this.getFavorites();\n  },\n};\n</script>\n","import { render } from \"./UserFavorites.vue?vue&type=template&id=73b9c5b6\"\nimport script from \"./UserFavorites.vue?vue&type=script&lang=js\"\nexport * from \"./UserFavorites.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\WEB\\\\hexschool\\\\vue-e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_16","_hoisted_22","_hoisted_27","_createVNode","_component_loading_overlay","active","$data","_hoisted_1","length","_createElementBlock","_hoisted_4","href","onClick","$options","_Fragment","_renderList","item","key","id","src","imageUrl","alt","title","_toDisplayString","_ctx","currency","origin_price","price","data","isLoading","favorites","methods","getProduct","this","$router","push","addCart","url","cart","product_id","qty","$http","post","then","res","console","log","$httpMessageState","getFavorites","JSON","parse","localStorage","getItem","deleteFavorites","value","checkId","idNum","find","splice","indexOf","setItem","stringify","success","goToProducts","created","__exports__","render"],"sourceRoot":""}