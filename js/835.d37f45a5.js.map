{"version":3,"file":"js/835.d37f45a5.js","mappings":"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","sources":["webpack://vue-e-commerce/./src/views/UserProducts.vue","webpack://vue-e-commerce/./src/views/UserProducts.vue?d35d"],"sourcesContent":["<template>\n  <loading-overlay :active=\"isLoading\"></loading-overlay>\n  <!-- header -->\n  <section class=\"bg-light py-5\">\n    <h2 class=\"text-center\">選你所愛&ensp;&ensp;/&ensp;&ensp;愛你所選</h2>\n  </section>\n  <!-- main -->\n  <section class=\"container\">\n    <div class=\"row my-5\">\n      <!-- 選單 -->\n      <div class=\"col-lg-3\">\n        <ul class=\"nav nav-pills flex-row flex-lg-column text-center text-lg-start fs-3\">\n          <li class=\"nav-item col\" v-for=\"item in list\" :key=\"item.name\">\n            <a\n              href=\"#\"\n              class=\"nav-link\"\n              :class=\"{ active: item.active === category }\"\n              @click.prevent=\"showProducts(item.active)\"\n              >{{ item.name }}</a\n            >\n          </li>\n        </ul>\n      </div>\n      <!-- 內容 -->\n      <div class=\"col-lg-9\">\n        <div class=\"mt-5 mt-lg-0 row row-cols-1 row-cols-sm-2 row-cols-xl-3 gy-3\">\n          <div class=\"col\" v-for=\"item in products\" :key=\"item.id\">\n            <div class=\"card h-100\">\n              <img :src=\"item.imageUrl\" class=\"card-img-top img-fluid\" :alt=\"item.title\" />\n              <div class=\"card-body text-center d-flex justify-content-end flex-column\">\n                <h3 class=\"card-title mb-3\">{{ item.title }}</h3>\n                <div class=\"card-text border-bottom mb-3 pb-3\">\n                  <p class=\"h6 text-secondary lh-base\">\n                    原價\n                    <span class=\"text-decoration-line-through\"\n                      >NT${{ $filters.currency(item.origin_price) }}</span\n                    >\n                  </p>\n                  <p class=\"h5 text-dark\">特價 NT${{ $filters.currency(item.price) }}</p>\n                  <a href=\"#\" class=\"btn btn-dark d-block\" @click.prevent=\"toProduct(item.id)\">\n                    <i class=\"bi bi-info-square-fill\"></i>&ensp;&ensp;查看更多資訊\n                  </a>\n                </div>\n                <div class=\"row row-cols-1 row-cols-md-2 gx-1\">\n                  <div class=\"col mb-3 mb-lg-0\">\n                    <a\n                      href=\"#\"\n                      class=\"d-block btn btn-outline-dark px-1\"\n                      @click.prevent=\"addCart(item.id)\"\n                      :class=\"{ disabled: status.loadingItem === item.id }\"\n                    >\n                      <i class=\"bi bi-cart-plus-fill\"></i>&ensp;加入購物車\n                    </a>\n                  </div>\n                  <div class=\"col\">\n                    <a\n                      href=\"#\"\n                      class=\"d-block btn btn-outline-dark px-1\"\n                      @click.prevent=\"toggleFavorites(item)\"\n                    >\n                      <span v-if=\"!isFavorite(item.id)\"\n                        ><i class=\"bi bi-bag-heart-fill\"></i>&ensp;加入最愛</span\n                      ><span v-else><i class=\"bi bi-heartbreak-fill\"></i>&ensp;我不愛它</span>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n      list: [\n        {\n          name: '全部',\n          active: 'all',\n        },\n        {\n          name: '椅',\n          active: 'chair',\n        },\n        {\n          name: '桌',\n          active: 'table',\n        },\n        {\n          name: '系列',\n          active: 'series',\n        },\n      ],\n      category: 'all',\n      products: [],\n      allProducts: [],\n      chairProducts: [],\n      tableProducts: [],\n      seriesProducts: [],\n      favorites: [],\n      favoriteId: [],\n    };\n  },\n  methods: {\n    // 取得產品資料\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((res) => {\n        this.products = res.data.products;\n        console.log('products:', res);\n        this.sortProducts(res.data.products);\n        this.isLoading = false;\n      });\n    },\n    // 產品資料排序\n    sortProducts(value) {\n      this.allProducts = [...value];\n      const chair = value.filter((e) => e.category === '椅');\n      this.chairProducts = chair;\n      const table = value.filter((e) => e.category === '桌');\n      this.tableProducts = table;\n      const series = value.filter((e) => e.category === '系列');\n      this.seriesProducts = series;\n    },\n    // 切換顯示產品\n    showProducts(value) {\n      this.category = value;\n      this.isLoading = true;\n      switch (value) {\n        case 'all':\n          this.products = this.allProducts;\n          break;\n        case 'chair':\n          this.products = this.chairProducts;\n          break;\n        case 'table':\n          this.products = this.tableProducts;\n          break;\n        case 'series':\n          this.products = this.seriesProducts;\n          break;\n        default: {\n          break;\n        }\n      }\n      setTimeout(() => {\n        this.isLoading = false;\n      }, 500);\n    },\n    // 跳轉產品頁面\n    toProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    // 加入購物車\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.status.loadingItem = id;\n      const cart = { product_id: id, qty: 1 };\n      this.$http.post(url, { data: cart }).then((res) => {\n        this.status.loadingItem = '';\n        console.log(res.data);\n        this.$httpMessageState(res, '加到購物車');\n        this.isLoading = false;\n      });\n    },\n    // 取得我的最愛\n    getFavorites() {\n      this.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      console.log('favorites', this.favorites);\n      this.favoriteId = [];\n      this.favorites.forEach((item) => {\n        this.favoriteId.push(item.id);\n      });\n    },\n    // 切換我的最愛\n    toggleFavorites(value) {\n      const checkId = value.id;\n      const checkFavorite = this.favorites.some((item) => item.id === checkId);\n      if (!checkFavorite) {\n        // 不是最愛\n        this.favorites.push(value);\n        localStorage.setItem('favorites', JSON.stringify(this.favorites));\n        const res = { data: { success: true } };\n        this.$httpMessageState(res, '加入我的最愛');\n      } else {\n        // 是最愛\n        const idNum = this.favorites.find((item) => item.id === checkId);\n        this.favorites.splice(this.favorites.indexOf(idNum), 1);\n        localStorage.setItem('favorites', JSON.stringify(this.favorites));\n        const res = { data: { success: true } };\n        this.$httpMessageState(res, '從我的最愛移除');\n      }\n      this.getFavorites();\n    },\n    // 檢查是否最愛\n    isFavorite(id) {\n      return this.favoriteId.includes(id);\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getFavorites();\n  },\n};\n</script>\n","import { render } from \"./UserProducts.vue?vue&type=template&id=679da39c\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\WEB\\\\hexschool\\\\vue-e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_19","_hoisted_25","_hoisted_31","_hoisted_35","_createVNode","_component_loading_overlay","active","$data","_hoisted_1","_createElementBlock","_Fragment","_renderList","item","key","name","href","onClick","$options","_hoisted_6","id","src","imageUrl","alt","title","_toDisplayString","_ctx","currency","origin_price","price","disabled","loadingItem","_hoisted_34","_hoisted_37","_hoisted_30","_hoisted_33","data","isLoading","status","list","category","products","allProducts","chairProducts","tableProducts","seriesProducts","favorites","favoriteId","methods","getProducts","url","this","$http","get","then","res","console","log","sortProducts","value","chair","filter","e","table","series","showProducts","setTimeout","toProduct","$router","push","addCart","cart","product_id","qty","post","$httpMessageState","getFavorites","JSON","parse","localStorage","getItem","forEach","toggleFavorites","checkId","checkFavorite","some","idNum","find","splice","indexOf","setItem","stringify","success","isFavorite","includes","created","__exports__","render"],"sourceRoot":""}